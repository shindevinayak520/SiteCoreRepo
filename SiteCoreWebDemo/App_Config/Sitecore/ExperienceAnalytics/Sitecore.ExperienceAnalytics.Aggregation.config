<?xml version="1.0" encoding="utf-8"?>
<!--

Purpose: This file enables the components and features related to aggregation subsystem.

-->
<configuration xmlns:role="http://www.sitecore.net/xmlconfig/role/">
    <sitecore role:require="Standalone or Processing">
        <services>
            <configurator type= "Sitecore.ExperienceAnalytics.Aggregation.Services.AggregationServicesConfigurator, Sitecore.ExperienceAnalytics.Aggregation" />
            <register
                serviceType="Sitecore.ExperienceAnalytics.Aggregation.Cache.CalculatedInteractionCache, Sitecore.ExperienceAnalytics.Aggregation"
                implementationType="Sitecore.ExperienceAnalytics.Aggregation.Cache.CalculatedInteractionCache, Sitecore.ExperienceAnalytics.Aggregation"
                lifetime="Singleton" />
            <register
                serviceType="Sitecore.ExperienceAnalytics.Aggregation.Calculator.ICalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.Data.Model.CalculatedInteraction, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"
                implementationType="Sitecore.ExperienceAnalytics.Aggregation.Calculator.DefaultInteractionCalculator, Sitecore.ExperienceAnalytics.Aggregation"
                lifetime="Singleton" />
        </services>
        <experienceAnalytics>
            <aggregation>
                <logger type="Sitecore.ExperienceAnalytics.Core.Diagnostics.Logger, Sitecore.ExperienceAnalytics.Core" singleInstance="true"/>
                <dimensions>
                </dimensions>
                <flexibleDimensions>
                    <!--Channel-->
                    <dimension id="{6D88FEC6-1D64-46F1-8A60-270B8CE2CC78}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.Channels.ChannelMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.Channel.Channel, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.Channels.ChannelResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.Channels.ChannelMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.TaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.UnknownTaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                        <param desc="level">2</param>
                                    </param>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--ChannelGroup-->
                    <dimension id="{8085A926-81C0-4AF4-B3C8-2DE0D06438CF}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelGroups.ChannelGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.Channel.Channel, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelGroups.ChannelGroupResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelGroups.ChannelGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.TaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.UnknownTaxonomyParentKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                        <param desc="level">1</param>
                                    </param>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--ChannelType-->
                    <dimension id="{550C5A53-E190-40BA-95EB-A33C54827A20}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelTypes.ChannelTypeMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.Channel.Channel, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelTypes.ChannelTypeResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredChannelManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Channels.ChannelTypes.ChannelTypeMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Outcome-->
                    <dimension id="{5797E54E-37AF-4EC5-B8BA-DD7F3EAFD6C9}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.Outcomes.OutcomeMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Outcome, Sitecore.XConnect]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.Outcomes.OutcomeResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.Outcomes.OutcomeMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredOutcomeDefinitionManager"/>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Outcome Group-->
                    <dimension id="{2EA8CCFD-8FAC-4CF2-9F70-FBFDD5C07CEA}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeGroups.OutcomeGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Outcome, Sitecore.XConnect]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeGroups.OutcomeGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredOutcomeManager"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Outcomes.OutcomeGroups.OutcomeGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Goal-->
                    <dimension id="{148758D7-7523-4787-A7D9-9379E5BC5514}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.Goals.GoalMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Goal, Sitecore.XConnect]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.Goals.GoalResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.Goals.GoalMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Goal Facet-->
                    <dimension id="{6634C79C-1E55-485F-9157-93ABA18BCC67}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacets.GoalFacetMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.EventTaxonUri, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacets.GoalFacetResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetGoalTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacets.GoalFacetMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Goal Facet Group-->
                    <dimension id="{C1491C3D-0A63-45E1-9510-B954415C9E08}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetGroups.GoalFacetGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.EventTaxonUri, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetGroups.GoalFacetGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetGoalTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Goal.GoalFacetGroups.GoalFacetGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign-->
                    <dimension id="{7892D03C-03A8-44B4-8815-5D66666CECED}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.Campaigns.CampaignMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Definitions.Campaigns.ICampaignActivityDefinition, Sitecore.Marketing]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.Campaigns.CampaignResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredCampaignDefinitionManager"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.Campaigns.CampaignMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation">
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                    <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredCampaignDefinitionManager"/>
                                    <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                                </ParentVisitGroupKeyResolver>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign Group-->
                    <dimension id="{BA96B8EB-4828-440B-BA84-2D6C689D42D9}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignGroups.CampaignGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Definitions.Campaigns.ICampaignActivityDefinition, Sitecore.Marketing]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignGroups.CampaignGroupResolver, Sitecore.ExperienceAnalytics.Aggregation">
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetConfiguredCampaignDefinitionManager"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignGroups.CampaignGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign Facet-->
                    <dimension id="{D00D6A78-BC26-4F6D-A391-2F22D9D5A8F4}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.TaxonUri, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetCampaignTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacets.CampaignFacetMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Campaign Facet Group-->
                    <dimension id="{4EEDC7EB-65DB-46EC-818E-5366B82E034B}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacetGroups.CampaignFacetGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Marketing.Taxonomy.Model.TaxonUri, Sitecore.Marketing.Taxonomy]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacetGroups.CampaignFacetGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetCampaignTaxonomyFacetService"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Campaign.CampaignFacetGroups.CampaignFacetGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.FacetsKeyResolvers.FacetGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Page-->
                    <dimension id="{B3807A36-E0D1-49E1-A605-17B2E2077231}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.Pages.PageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.Pages.PageFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.Pages.PageMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" />
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Entry Page-->
                    <dimension id="{24307E3B-951F-463C-9310-475757EA2871}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPages.EntryPageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPages.EntryPageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPages.EntryPageMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" />
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Exit Page-->
                    <dimension id="{2BA45688-F3D7-4D94-9996-AC22435FAA9F}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPages.ExitPageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPages.ExitPageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPages.ExitPageMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" />
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Page url-->
                    <dimension id="{90C53CD7-3FA2-4057-83B2-6A870CCBA2A6}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PagesByUrl.PageByUrlMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PagesByUrl.PageUrlResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PagesByUrl.PageByUrlFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PagesByUrl.PageByUrlMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Entry Page Url-->
                    <dimension id="{5A1A3D23-591C-44B9-8550-FDB9695F21BD}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPagesByUrl.EntryPageByUrlMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPagesByUrl.EntryPageUrlResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.EntryPagesByUrl.EntryPageByUrlMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Exit Page url-->
                    <dimension id="{1C48CE32-F06C-4F02-9D80-82AE7994ADB9}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPagesByUrl.ExitPageByUrlMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.Analytics.Core.Page, Sitecore.Analytics.Core]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPagesByUrl.ExitPageUrlResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.PageFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Pages.ExitPagesByUrl.ExitPageByUrlMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Referring Site-->
                    <dimension id="{5858B47C-C8F3-4E48-9B10-500EBE0E9DCE}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.ReferringSite.ReferringSiteMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Pattern-->
                    <dimension id="{8F44FFFA-A744-44C5-B958-4B5C961EC65C}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.ProfileScore, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Patterns.PatternMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Language-->
                    <dimension id="{87225105-0BAA-4913-929E-916E8210DC70}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Language.LanguageMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--local search keyword -->
                    <dimension id="{CB9ED373-3A28-4DA0-BC0A-2C77D37D9E23}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.SearchMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.LocalSearchResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.SearchFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Search.SearchMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Download Event-->
                    <dimension id="{5D1275D9-C16B-4BD2-8419-297CD2384F41}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.Downloads.DownloadEventMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.DownloadEvent, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.Downloads.DownloadEventResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.Downloads.DownloadEventMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Asset -->
                    <dimension id="{D65020DC-EEBF-4652-8A28-CCD9395C83B8}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.Assets.AssetMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.DownloadEvent, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.Assets.AssetResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.Assets.AssetMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Asset Group -->
                    <dimension id="{6C0847F3-8405-41B2-B818-EA5BFBC06C99}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetGroups.AssetGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.DownloadEvent, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetGroups.AssetGroupResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetGroups.AssetGroupMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.Guid]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Asset.AssetGroupKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--conversions -->
                    <dimension id="{1A6CE37B-9A5F-4044-AC27-EA07482B9911}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Conversions.ConversionsMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--pageViews -->
                    <dimension id="{6564431B-4537-4B15-8AAD-FDBC93A15C79}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.PageViews.PageViewsMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Devie type-->
                    <dimension id="{C7C7B604-3103-4765-939E-56BA87EA768F}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypes.DeviceTypeMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.CES.DeviceDetection.DeviceInformation, Sitecore.CES.DeviceDetection]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceDetectionSettings"/>
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceInformationService"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypes.DeviceTypeMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypeKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Devie model-->
                    <dimension id="{CAF488E4-8C0B-4335-9A4E-AFBBE5EBF796}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceModels.DeviceModelMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.CES.DeviceDetection.DeviceInformation, Sitecore.CES.DeviceDetection]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceDetectionSettings"/>
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceInformationService"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceModels.DeviceModelMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceModelKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypeKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--Device Size-->
                    <dimension id="{BC35B7D9-9586-4143-8297-9E03B868DD12}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceSize.DeviceSizeMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.CES.DeviceDetection.DeviceInformation, Sitecore.CES.DeviceDetection]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceResolver, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceDetectionSettings"/>
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.AggregationContainer, Sitecore.ExperienceAnalytics.Aggregation" factoryMethod="GetLazyDeviceInformationService"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </param>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceSize.DeviceSizeMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceSize.DeviceSizeKeyResolver, Sitecore.ExperienceAnalytics.Aggregation">
                                <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DefaultDeviceInformationSerializer, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </param>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceTypeKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Device.DeviceModelKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--county-->
                    <dimension id="{3D797C19-DD2D-4705-A7E4-578A2072168D}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.Country.CountryMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.IpInfo, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.Country.CountryMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CountryKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--region-->
                    <dimension id="{044C1661-D44A-4AB0-A6CF-3C9ABF181BED}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.Region.RegionMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.IpInfo, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.Region.RegionMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.RegionKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CountryKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>

                    <!--city-->
                    <dimension id="{EE9125E5-1837-40A7-9442-387FCB75E070}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.City.CityMetrics, Sitecore.ExperienceAnalytics.Aggregation], [Sitecore.XConnect.Collection.Model.IpInfo, Sitecore.XConnect.Collection.Model]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.GeoFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.City.CityMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.KeyComposition.HierarchicalKeyComposer`1[[System.String]], Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CityKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            <ParentVisitGroupKeyResolvers hint="list">
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.CountryKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                                <ParentVisitGroupKeyResolver type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Geo.RegionKeyResolver, Sitecore.ExperienceAnalytics.Aggregation"/>
                            </ParentVisitGroupKeyResolvers>
                        </param>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>
                    
                    <!--System Dimension-->
                    <dimension id="{A08A7AE4-E640-41EF-BEF8-5AD3A824D9DC}" type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.FlexibleDimension`2[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.System.SystemMetrics, Sitecore.ExperienceAnalytics.Aggregation], [System.String]], Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.System.SystemResolver, Sitecore.ExperienceAnalytics.Aggregation" />
                        <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.System.SystemFactCalculator`1[[Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.System.SystemMetrics, Sitecore.ExperienceAnalytics.Aggregation]], Sitecore.ExperienceAnalytics.Aggregation"/>
                        <InteractionFilters hint ="list">
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.ExmSyntheticEventFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                            <InteractionFilter type="Sitecore.ExperienceAnalytics.Aggregation.Filters.WebVisitFilter, Sitecore.ExperienceAnalytics.Aggregation" />
                        </InteractionFilters>
                    </dimension>
                    
                </flexibleDimensions>

                <services>
                    <!-- DimensionDefinitionService is responsible for instantiating Experience Analytics Dimensions objects from configuration.
                    The 'pathToConfigNode' parameter specifies the element where the dimensions are expected to be configured.
                    Default: "experienceAnalytics/aggregation/dimensions"
                    -->
                    <dimensionDefinitionService type="Sitecore.ExperienceAnalytics.Aggregation.Repositories.DimensionConfigReader, Sitecore.ExperienceAnalytics.Aggregation" singleInstance="true">
                        <param desc="pathToConfigNode">experienceAnalytics/aggregation/dimensions</param>
                        <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                    </dimensionDefinitionService>

                    <!-- AggregationSegmentRepository is responsible for reading/writing data from/to reference data store.-->
                    <aggregationSegmentRepository type="Sitecore.ExperienceAnalytics.Aggregation.Repositories.AggregationSegmentRepository, Sitecore.ExperienceAnalytics.Aggregation">
                        <param type="Sitecore.ExperienceAnalytics.Core.Repositories.ReferenceData.ReferenceDataSegmentReader, Sitecore.ExperienceAnalytics.Core" />
                        <param type="Sitecore.ExperienceAnalytics.Core.Repositories.ReferenceData.ReferenceDataSegmentStore, Sitecore.ExperienceAnalytics.Core" />
                        <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                    </aggregationSegmentRepository>

                    <!-- SiteReader is responsible for reading data from the SiteNames dimension table in RDB.
                    The 'connectionStringName' parameter the name of the connection string of the RDB instance to connect to.
                    Default: "reporting" -->
                    <siteReader type="Sitecore.ExperienceAnalytics.Core.Repositories.CachedReaderDecorator`2[[System.String], [Sitecore.ExperienceAnalytics.Core.Repositories.Model.Site, Sitecore.ExperienceAnalytics.Core]], Sitecore.ExperienceAnalytics.Core">
                        <param type="Sitecore.ExperienceAnalytics.Core.Repositories.SiteSqlReader, Sitecore.ExperienceAnalytics.Core">
                            <param desc="connectionStringName">reporting</param>
                        </param>
                        <param desc="cacheName">ExperienceAnalytics.Sites</param>
                        <param desc="cacheMaxSize">1048576</param>
                        <param desc="cacheExpiration">00:05:00</param>
                        <param desc="useSlidingCacheExpiration">false</param>
                        <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                    </siteReader>

                    <deviceInformationService type="Sitecore.ExperienceAnalytics.Core.Adapters.DeviceInformationAdapter, Sitecore.ExperienceAnalytics.Core"/>
                    <deviceDetectionSettings type="Sitecore.ExperienceAnalytics.Core.Adapters.DeviceDetectionSettingsAdapter, Sitecore.ExperienceAnalytics.Core"/>
                    <hierarchicalIdDimensionKeyStrategy type="Sitecore.ExperienceAnalytics.Core.Repositories.Model.HierarchicalIdDimensionKeyStrategy, Sitecore.ExperienceAnalytics.Core"/>
                    <customTaxonomyManagerAdapter type="Sitecore.ExperienceAnalytics.Core.Adapters.CustomTaxonomyManagerAdapter, Sitecore.ExperienceAnalytics.Core"/>
                </services>
            </aggregation>
        </experienceAnalytics>
        <aggregation>
            <routines>
                <ExecRoutineStatementBuilder>
                    <mappings>
                        <SqlMappingEntity uid="Fact_ChannelGroupMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_ChannelGroupMetrics</Table>
                            <Routine>Add_ChannelGroupMetrics_Tvp</Routine>
                            <TableType>ChannelGroupMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_ChannelMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_ChannelMetrics</Table>
                            <Routine>Add_ChannelMetrics_Tvp</Routine>
                            <TableType>ChannelMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_ChannelTypeMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_ChannelTypeMetrics</Table>
                            <Routine>Add_ChannelTypeMetrics_Tvp</Routine>
                            <TableType>ChannelTypeMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_CityMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_CityMetrics</Table>
                            <Routine>Add_CityMetrics_Tvp</Routine>
                            <TableType>CityMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_ConversionsMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_ConversionsMetrics</Table>
                            <Routine>Add_ConversionsMetrics_Tvp</Routine>
                            <TableType>ConversionsMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_CountryMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_CountryMetrics</Table>
                            <Routine>Add_CountryMetrics_Tvp</Routine>
                            <TableType>CountryMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_DeviceModelMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_DeviceModelMetrics</Table>
                            <Routine>Add_DeviceModelMetrics_Tvp</Routine>
                            <TableType>DeviceModelMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_DeviceSizeMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_DeviceSizeMetrics</Table>
                            <Routine>Add_DeviceSizeMetrics_Tvp</Routine>
                            <TableType>DeviceSizeMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_DeviceTypeMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_DeviceTypeMetrics</Table>
                            <Routine>Add_DeviceTypeMetrics_Tvp</Routine>
                            <TableType>DeviceTypeMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_EntryPageByUrlMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_EntryPageByUrlMetrics</Table>
                            <Routine>Add_EntryPageByUrlMetrics_Tvp</Routine>
                            <TableType>EntryPageByUrlMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_EntryPageMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_EntryPageMetrics</Table>
                            <Routine>Add_EntryPageMetrics_Tvp</Routine>
                            <TableType>EntryPageMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_ExitPageByUrlMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_ExitPageByUrlMetrics</Table>
                            <Routine>Add_ExitPageByUrlMetrics_Tvp</Routine>
                            <TableType>ExitPageByUrlMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_ExitPageMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_ExitPageMetrics</Table>
                            <Routine>Add_ExitPageMetrics_Tvp</Routine>
                            <TableType>ExitPageMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_LanguageMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_LanguageMetrics</Table>
                            <Routine>Add_LanguageMetrics_Tvp</Routine>
                            <TableType>LanguageMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_PageByUrlMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_PageByUrlMetrics</Table>
                            <Routine>Add_PageByUrlMetrics_Tvp</Routine>
                            <TableType>PageByUrlMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_PageMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_PageMetrics</Table>
                            <Routine>Add_PageMetrics_Tvp</Routine>
                            <TableType>PageMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_PageViewsMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_PageViewsMetrics</Table>
                            <Routine>Add_PageViewsMetrics_Tvp</Routine>
                            <TableType>PageViewsMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_RegionMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_RegionMetrics</Table>
                            <Routine>Add_RegionMetrics_Tvp</Routine>
                            <TableType>RegionMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_SegmentMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_SegmentMetrics</Table>
                            <Routine>Add_SegmentMetrics_Tvp</Routine>
                            <TableType>SegmentMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow >
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="SegmentRecords" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>SegmentRecords</Table>
                            <Routine>Ensure_SegmentRecords_Tvp</Routine>
                            <TableType>SegmentRecords_Type</TableType>
                            <IsMultiRow>True</IsMultiRow >
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="DimensionKeys" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>DimensionKeys</Table>
                            <Routine>Ensure_DimensionKeys_Tvp</Routine>
                            <TableType>DimensionKeys_Type</TableType>
                            <IsMultiRow>True</IsMultiRow >
                        </SqlMappingEntity>
                        <SqlMappingEntity uid="Fact_SystemMetrics" type="Sitecore.Analytics.Aggregation.SqlMappingEntity, Sitecore.Analytics.Sql">
                            <Table>Fact_SystemMetrics</Table>
                            <Routine>Add_SystemMetrics_Tvp</Routine>
                            <TableType>SystemMetrics_Type</TableType>
                            <IsMultiRow>True</IsMultiRow>
                        </SqlMappingEntity>
                    </mappings>
                </ExecRoutineStatementBuilder>
            </routines>
        </aggregation>
        <pipelines>
            <group groupName="analytics.aggregation">
                <pipelines>
                    <interactions>
                        <!-- The pipeline processor is building Facts and Dimensions for each segment registered in Experience Analytics -->
                        <processor type="Sitecore.ExperienceAnalytics.Aggregation.Pipeline.InteractionProcessor, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.Pipeline.SegmentProcessor">
                                <param type="Sitecore.ExperienceAnalytics.Aggregation.Rules.RulesValidator, Sitecore.ExperienceAnalytics.Aggregation" />
                                <param type="Sitecore.ExperienceAnalytics.Aggregation.FlexibleMetrics.Framework.Plumbing.FlexibleDimensionConfigReader, Sitecore.ExperienceAnalytics.Aggregation" />
                                <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                            </param>
                            <param desc="aggregationSegmentProcessor" ref="experienceAnalytics/aggregation/services/aggregationSegmentRepository"/>
                            <param desc="logger" ref="experienceAnalytics/aggregation/logger"/>
                        </processor>
                        <processor type="Sitecore.ExperienceAnalytics.Aggregation.Pipeline.ReportingRebuildProcessor, Sitecore.ExperienceAnalytics.Aggregation" >
                            <param type="Sitecore.ExperienceAnalytics.Aggregation.ReportingRebuild.ReportingRebuildCompletionManager, Sitecore.ExperienceAnalytics.Aggregation" singleInstance="true" />
                        </processor>
                    </interactions>
                </pipelines>
            </group>
        </pipelines>
        <settings>
            <!-- EXPERIENCE ANALYTICS - AGGREGATION - SEGMENT DEPLOY DATE OFFSET PADDING
           Controls additional padding when interaction's SaveDateTime is compared with segment's deploy date.
           The timespan built from the value of this setting is added to the segment's deploy date.
           When a segment is being deployed, the DeployDate will be DateTime.UtcNow.Add(SegmentDeployDateOffsetPadding)
           Interaction data for the particular segment will be processed if interaction.SaveDateTime > segment.DeployDate
           Default value: 00:30:00 (30 minutes)
            -->
            <setting name="ExperienceAnalytics.Aggregation.SegmentDeployDateOffsetPadding" value="00:30:00" />
            <setting name="ExperienceAnalytics.Aggregation.CalculatedInteractionCache.MaxSize" value="100MB" />
            <setting name="ExperienceAnalytics.Aggregation.VisitGroupMeasurementCache.MaxSize" value="100MB" />
        </settings>
    </sitecore>
</configuration>